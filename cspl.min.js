Function.prototype.bind||(Function.prototype.bind=function(l){function k(){return d.apply(this instanceof a&&l?this:l,e.concat(Array.prototype.slice.call(arguments)))}function a(){}if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),d=this;a.prototype=this.prototype;k.prototype=new a;return k});window.Spline=function(){function l(a,e){for(var d=a.a,c=a.b,f=a.c,b=1;d[b]<e;)b++;if(d[b]){var h=(e-d[b-1])/(d[b]-d[b-1]);return(1-h)*c[b-1]+h*c[b]+h*(1-h)*((f[b-1]*(d[b]-d[b-1])-(c[b]-c[b-1]))*(1-h)+(-f[b]*(d[b]-d[b-1])+(c[b]-c[b-1]))*h)}throw"out of range error";}var k={d:function(a,e){for(var d,c,f=a.length,b=0;b<f;b++){c=0;var h=Number.NEGATIVE_INFINITY;for(d=b;d<f;d++)a[d][b]>h&&(c=d,h=a[d][b]);k.e(a,b,c);0==a[c][d]&&console.log("matrix is singular!");for(d=b+1;d<f;d++){for(c=b+1;c<f+1;c++)a[d][c]-=a[b][c]*(a[d][b]/a[b][b]);a[d][b]=0}}for(d=f-1;0<=d;d--)for(b=a[d][f]/a[d][d],e[d]=b,c=d-1;0<=c;c--)a[c][f]-=a[c][d]*b,a[c][d]=0},f:function(a,e){for(var d=[],c=0;c<a;c++){d.push([]);for(var f=0;f<e;f++)d[c].push(0)}return d},h:function(a){for(var e=0;e<a.length;e++)console.log(a[e])},e:function(a,e,d){var c=a[e];a[e]=a[d];a[d]=c}};return function(a){this.a=[];this.b=[];this.c=[];for(var e in a)a.hasOwnProperty(e)&&(this.a.push(parseFloat(e)),this.b.push(a[e]));a=this.a;e=this.b;for(var d=this.c, c=a.length-1,f=k.f(c+1,c+2),b=1;b<c;b++)f[b][b-1]=1/(a[b]-a[b-1]),f[b][b]=2*(1/(a[b]-a[b-1])+1/(a[b+1]-a[b])),f[b][b+1]=1/(a[b+1]-a[b]),f[b][c+1]=3*((e[b]-e[b-1])/((a[b]-a[b-1])*(a[b]-a[b-1]))+(e[b+1]-e[b])/((a[b+1]-a[b])*(a[b+1]-a[b])));f[0][0]=2/(a[1]-a[0]);f[0][1]=1/(a[1]-a[0]);f[0][c+1]=3*(e[1]-e[0])/((a[1]-a[0])*(a[1]-a[0]));f[c][c-1]=1/(a[c]-a[c-1]);f[c][c]=2/(a[c]-a[c-1]);f[c][c+1]=3*(e[c]-e[c-1])/((a[c]-a[c-1])*(a[c]-a[c-1]));k.d(f,d);return l.bind(this,this)}}();